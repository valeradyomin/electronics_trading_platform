# "_Онлайн платформа торговой сети электроники"_

Проект представляет собой веб-приложение с API-интерфейсом и админ-панелью, реализованное с использованием Django. База данных создана с использованием миграций Django.

Модель сети по продаже электроники представляет иерархическую структуру из трех уровней: завод, розничная сеть и индивидуальный предприниматель. Каждое звено сети ссылается только на одного поставщика оборудования. Уровень иерархии определяется отношением к остальным элементам сети.

Каждое звено сети содержит информацию о названии, контактах (email, страна, город, улица, номер дома), продуктах (название, модель, дата выхода продукта на рынок), предыдущем по иерархии объекте сети, задолженности перед поставщиком в денежном выражении с точностью до копеек и времени создания.

В админ-панели реализован вывод созданных объектов сети, добавлена ссылка на "Поставщика" на странице объекта сети, фильтр по названию города и admin action для очистки задолженности перед поставщиком у выбранных объектов.

С использованием Django REST framework (DRF) создан набор представлений CRUD для модели поставщика, с запретом обновления поля "Задолженность перед поставщиком" через API. Добавлена возможность фильтрации объектов по определенной стране. Права доступа к API настроены таким образом, чтобы только активные сотрудники имели доступ к API.

## Установка и запуск проекта:

1. клонировать репозиторий: `git clone https://github.com/valeradyomin/electronics_trading_platform` 
2. установить виртуальную среду: `python -m venv .venv`
3. активировать виртуальную среду(Windows): `.venv\Scripts\Activate.ps1`
   - активировать виртуальную среду(Linux): `source .venv/bin/activate`
4. установить зависимости: `pip install -r requirements.txt`
5. используйте `.env.sample` как образец для создания `.env` , чтобы настроить переменные окружения
6. установить PostgreSQL
7. создать базу данных
8. выполнить миграцию: `python manage.py makemigrations && python manage.py migrate`
9. запустить проект: `python manage.py runserver`
10. создать суперпользователя: `python manage.py createsuperuser`
11. создать суперпользователя (кастомная конфигурация с данными из .env-файла):`python manage.py create_su`
12. в консоли запустить celery (Linux): `celery -A config worker -l INFO`
    - в консоли запустить celery (Windows): `celery -A config worker -l INFO -P eventlet`
13. в консоли запустить celery beat: `celery -A config beat -l INFO`

## Стек технологий:
- Python 3+
- Django
- Django Rest Framework
- Django Treenode
- PostgreSQL
- Redis
- Celery
- Celery Beat
- JWT
- Swagger
- Redoc
- flake8


## Документация:
Документация проекта доступна по адресу:

    `http://127.0.0.1:8000/swagger/`
    `http://127.0.0.1:8000/redoc/`
